"use strict";(()=>{var S=Object.create;var F=Object.defineProperty;var L=Object.getOwnPropertyDescriptor;var H=Object.getOwnPropertyNames;var v=Object.getPrototypeOf,C=Object.prototype.hasOwnProperty;var A=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports);var U=(n,t,o,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of H(t))!C.call(n,r)&&r!==o&&F(n,r,{get:()=>t[r],enumerable:!(i=L(t,r))||i.enumerable});return n};var P=(n,t,o)=>(o=n!=null?S(v(n)):{},U(t||!n||!n.__esModule?F(o,"default",{value:n,enumerable:!0}):o,n));var T=A((k,p)=>{var a=function(n){return encodeURIComponent(n).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},X=function(n){return!isNaN(parseFloat(n))&&isFinite(n)},q=function(n){for(var t=new Array,o=0;o<n.length;o++)n[o]&&t.push(n[o]);return t},j=function(n,t,o,i){if(t=t||null,o=o||"&",i=i||null,!n)return"";var r=Object.keys(n).map(function(s){var E,b=s;if(i&&(b=i+"["+b+"]"),typeof n[s]=="object"&&n[s]!==null)E=j(n[s],null,o,b);else{t&&(b=X(b)?t+Number(b):b);var c=n[s];c=c===!0?"1":c,c=c===!1?"0":c,c=c===0?"0":c,c=c||"",E=a(b)+"="+a(c)}return E});return q(r).join(o).replace(/[!'()*]/g,"")};p.exports=j});var M=P(T(),1),h=class{static urlEncode(t){return(0,M.default)(t)}static jsonEncode(t){return JSON.stringify(t)}static formEncode(t){if(this.isFormData(t))return t;if(this.isFormElement(t))return new FormData(t);if(this.isObject(t)){let o=new FormData;return Object.keys(t).forEach(i=>{let r=t[i];o.append(i,r)}),o}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}static isObject(t){return Object.prototype.toString.call(t)==="[object Object]"}static isFormData(t){return t instanceof FormData}static isFormElement(t){return t instanceof HTMLFormElement}static selectFiles(t={}){return new Promise((o,i)=>{let r=document.createElement("INPUT");r.type="file",t.multiple&&r.setAttribute("multiple","multiple"),t.accept&&r.setAttribute("accept",t.accept),r.style.display="none",document.body.appendChild(r),r.addEventListener("change",s=>{let E=s.target.files;o(E),document.body.removeChild(r)},!1),r.click()})}static parseHeaders(t){let o=t.trim().split(/[\r\n]+/),i={};return o.forEach(function(r){let s=r.split(": "),E=s.shift(),b=s.join(": ");E&&(i[E]=b)}),i}};var D=(()=>{let n={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},t=function(e){return new Promise((f,y)=>{e=s(e),e=b(e),e.beforeSend&&e.beforeSend();let l=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");l.open(e.method,e.url),l.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(e.headers).forEach(d=>{let g=e.headers[d];l.setRequestHeader(d,g)});let w=e.ratio;l.upload.addEventListener("progress",d=>{let g=Math.round(d.loaded/d.total*100),O=Math.ceil(g*w/100);e.progress(Math.min(O,100))},!1),l.addEventListener("progress",d=>{let g=Math.round(d.loaded/d.total*100),O=Math.ceil(g*(100-w)/100)+w;e.progress(Math.min(O,100))},!1),l.onreadystatechange=()=>{if(l.readyState===4){let d=l.response;try{d=JSON.parse(d)}catch(J){}let g=h.parseHeaders(l.getAllResponseHeaders()),O={body:d,code:l.status,headers:g};R(l.status)?f(O):y(O)}},l.send(e.data)})},o=function(e){return e.method="GET",t(e)},i=function(e){return e.method="POST",t(e)},r=function(e){return e=s(e),h.selectFiles(e).then(f=>{let y=new FormData;for(let w=0;w<f.length;w++)y.append(e.fieldName,f[w],f[w].name);h.isObject(e.data)&&Object.keys(e.data).forEach(w=>{let d=e.data[w];y.append(w,d)});let l=e.beforeSend;return e.beforeSend=function(){return l(f)},e.data=y,i(e)})},s=function(e={}){if(e.url&&typeof e.url!="string")throw new Error("Url must be a string");if(e.url=e.url||"",e.method&&typeof e.method!="string")throw new Error("`method` must be a string or null");if(e.method=e.method?e.method.toUpperCase():"GET",e.headers&&typeof e.headers!="object")throw new Error("`headers` must be an object or null");if(e.headers=e.headers||{},e.type&&(typeof e.type!="string"||!Object.values(n).includes(e.type)))throw new Error("`type` must be taken from module's \xABcontentType\xBB library");if(e.progress&&typeof e.progress!="function")throw new Error("`progress` must be a function or null");if(e.progress=e.progress||(f=>{}),e.beforeSend=e.beforeSend||(f=>{}),e.ratio&&typeof e.ratio!="number")throw new Error("`ratio` must be a number");if(e.ratio<0||e.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(e.ratio=e.ratio||90,e.accept&&typeof e.accept!="string")throw new Error("`accept` must be a string with a list of allowed mime-types");if(e.accept=e.accept||"*/*",e.multiple&&typeof e.multiple!="boolean")throw new Error("`multiple` must be a true or false");if(e.multiple=e.multiple||!1,e.fieldName&&typeof e.fieldName!="string")throw new Error("`fieldName` must be a string");return e.fieldName=e.fieldName||"files",e},E=function(e={}){return e.type||n.JSON},b=function(e){switch(e.method){case"GET":let f=c(e.data,n.URLENCODED);delete e.data,e.url=/\?/.test(e.url)?e.url+"&"+f:e.url+"?"+f;break;case"POST":case"PUT":case"DELETE":case"UPDATE":let y=E(e);(h.isFormData(e.data)||h.isFormElement(e.data))&&(y=n.FORM),e.data=c(e.data,y),y!==D.contentType.FORM&&(e.headers["content-type"]=y);break}return e},c=function(e={},f){switch(f){case n.URLENCODED:return h.urlEncode(e);case n.JSON:return h.jsonEncode(e);case n.FORM:return h.formEncode(e);default:return e}},N=function(u){return u=s(u),delete u.beforeSend,h.selectFiles(u)},R=function(u){return u>=200&&u<300};return{contentType:n,request:t,get:o,post:i,transport:r,selectFiles:N}})(),I=D;})();
//# sourceMappingURL=output.js.map
